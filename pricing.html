<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pricing - ContentOptimizer AI</title>
    <script src="https://checkout.razorpay.com/v1/checkout.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2" defer></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; }
        
        nav { background: #fff; box-shadow: 0 1px 3px rgba(0,0,0,0.1); padding: 1rem 2rem; position: sticky; top: 0; z-index: 100; }
        .nav-container { max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 1.5rem; font-weight: 800; color: #6366f1; text-decoration: none; }
        .nav-btn { padding: 0.6rem 1.5rem; border-radius: 6px; border: none; font-weight: 600; cursor: pointer; margin-left: 0.5rem; text-decoration: none; display: inline-block; }
        .btn-signin { background: #fff; color: #6366f1; border: 1px solid #e5e7eb; }
        .btn-home { background: #6366f1; color: #fff; }
        
        .pricing-hero { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: #fff; padding: 4rem 2rem; text-align: center; }
        .pricing-hero h1 { font-size: 3rem; margin-bottom: 1rem; }
        .pricing-hero p { font-size: 1.2rem; opacity: 0.95; }
        
        .pricing-section { max-width: 1200px; margin: 4rem auto; padding: 0 2rem; }
        .pricing-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-top: 3rem; }
        .pricing-card { background: #fff; border: 2px solid #e5e7eb; border-radius: 12px; padding: 2rem; transition: transform 0.3s, box-shadow 0.3s; }
        .pricing-card:hover { transform: translateY(-5px); box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .pricing-card.featured { border-color: #6366f1; position: relative; }
        .featured-badge { background: #6366f1; color: #fff; padding: 0.5rem 1rem; border-radius: 20px; font-size: 0.875rem; font-weight: 600; position: absolute; top: -12px; right: 20px; }
        .plan-name { font-size: 1.5rem; font-weight: 700; margin-bottom: 0.5rem; }
        .plan-price { font-size: 3rem; font-weight: 800; color: #6366f1; margin: 1rem 0; }
        .plan-price span { font-size: 1.2rem; color: #6b7280; font-weight: 400; }
        .plan-description { color: #6b7280; margin-bottom: 1.5rem; }
        .plan-features { list-style: none; margin: 1.5rem 0; }
        .plan-features li { padding: 0.75rem 0; border-bottom: 1px solid #e5e7eb; color: #374151; }
        .plan-features li:before { content: "✓"; color: #10b981; font-weight: bold; margin-right: 0.5rem; }
        .plan-button { width: 100%; padding: 1rem; background: #6366f1; color: #fff; border: none; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: background 0.3s; }
        .plan-button:hover { background: #4f46e5; }
        .plan-button.secondary { background: #fff; color: #6366f1; border: 2px solid #6366f1; }
        .plan-button.secondary:hover { background: #f3f4f6; }
    </style>
</head>
<body>
    <nav>
        <div class="nav-container">
            <a href="index.html" class="logo">⚡ ContentOptimizer AI</a>
            <div>
                <a href="index.html" class="nav-btn btn-home">Home</a>
                <button class="nav-btn btn-signin" onclick="window.location.href='index.html'">Sign In</button>
            </div>
        </div>
    </nav>

    <section class="pricing-hero">
        <h1>Simple, Transparent Pricing</h1>
        <p>Choose the plan that's right for you. Cancel anytime.</p>
    </section>

    <section class="pricing-section">
        <div class="pricing-grid">
            <!-- Free Plan -->
            <div class="pricing-card">
                <h3 class="plan-name">Free</h3>
                <div class="plan-price">₹0<span>/month</span></div>
                <p class="plan-description">Perfect for trying out our platform</p>
                <ul class="plan-features">
                    <li>5 article optimizations per month</li>
                    <li>Basic SEO analysis</li>
                    <li>Keyword suggestions</li>
                    <li>Email support</li>
                </ul>
                <button class="plan-button secondary" onclick="startFreeTrial()">Start Free Trial</button>
            </div>

            <!-- Pro Plan -->
            <div class="pricing-card featured">
                <span class="featured-badge">Most Popular</span>
                <h3 class="plan-name">Pro</h3>
                <div class="plan-price">₹999<span>/month</span></div>
                <p class="plan-description">For professional content creators</p>
                <ul class="plan-features">
                    <li>100 article optimizations per month</li>
                    <li>Advanced SEO analysis</li>
                    <li>AI content generation</li>
                    <li>Competitor analysis</li>
                    <li>Priority email support</li>
                    <li>Analytics dashboard</li>
                </ul>
                <button class="plan-button" onclick="subscribe('pro', 999)">Subscribe Now</button>
            </div>

            <!-- Enterprise Plan -->
            <div class="pricing-card">
                <h3 class="plan-name">Enterprise</h3>
                <div class="plan-price">₹2999<span>/month</span></div>
                <p class="plan-description">For teams and agencies</p>
                <ul class="plan-features">
                    <li>Unlimited article optimizations</li>
                    <li>Advanced SEO analysis</li>
                    <li>AI content generation</li>
                    <li>Competitor analysis</li>
                    <li>Team collaboration (5 users)</li>
                    <li>White-label reports</li>
                    <li>24/7 priority support</li>
                    <li>API access</li>
                </ul>
                <button class="plan-button" onclick="subscribe('enterprise', 2999)">Subscribe Now</button>
            </div>
        </div>
    </section>

    <script>
        const SUPABASE_URL = 'https://dbgjlstdfgpqomzdbdel.supabase.co'
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRiZ2psc3RkZmdwcW9temRiZGVsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzUxOTE1NDEsImV4cCI6MjA1MDc2NzU0MX0.5kpBzWqwbWdKM4iUGH0fv7ZAJvL_X7PaIcxIHpVCuII'
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KE
                                                              
        // TODO: Add your Razorpay credentials here
        // 1. Sign up at https://razorpay.com
        // 2. Go to Dashboard > Settings > API Keys
        // 3. Generate Test Mode keys for testing
        // 4. Replace 'rzp_test_R6LyCR200DlO69' below with your actual Key ID (starts with rzp_test_)
        // 5. For production, use Live Mode keysY)
        const RAZORPAY_KEY_ID = 'rzp_test_R6LyCR200DlO69'

        async function startFreeTrial() {
            const { data: { session } } = await supabase.auth.getSession()
            if (!session) {
                alert('Please sign up to start your free trial!')
                window.location.href = 'index.html'
                return
            }
            try {
                await supabase.from('subscriptions').insert([{
                    user_id: session.user.id,
                    plan: 'free',
                    status: 'active',
                    trial_ends: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000)
                }])
                alert('Free trial activated!')
                window.location.href = 'dashboard.html'
            } catch (error) {
                console.error(error)
                alert('Error starting trial.')
            }
        }

        async function subscribe(plan, amount) {
            const { data: { session } } = await supabase.auth.getSession()
            if (!session) {
                alert('Please sign in to subscribe!')
                window.location.href = 'index.html'
                return
            }
            const options = {
                key: RAZORPAY_KEY_ID,
                amount: amount * 100,
                currency: 'INR',
                name: 'ContentOptimizer AI',
                description: `${plan.charAt(0).toUpperCase() + plan.slice(1)} Plan`,
                handler: async function (response) {
                    try {
                        await supabase.from('subscriptions').insert([{
                            user_id: session.user.id,
                            plan: plan,
                            status: 'active',
                            razorpay_payment_id: response.razorpay_payment_id,
                            amount: amount,
                            next_billing_date: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000)
                        }])
                        alert('Subscription successful!')
                        window.location.href = 'dashboard.html'
                    } catch (error) {
                        console.error(error)
                        alert('Error creating subscription')
                    }
                },
                prefill: { email: session.user.email },
                theme: { color: '#6366f1' }
            }
            new Razorpay(options).open()
        }
    </script>
</body>
</html>
