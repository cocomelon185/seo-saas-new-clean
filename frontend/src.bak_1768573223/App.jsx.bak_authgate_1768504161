import { clearToken } from "./lib/api";
import React from "react";
import { Switch, Route, Redirect } from "react-router-dom";

import Admin from "./layouts/Admin.jsx";
import Auth from "./layouts/Auth.jsx";
import Index from "./views/Index.jsx";

export default function App() {
  return (
    <div style={{ position: "fixed", top: 10, right: 10, zIndex: 9999 }}>
      <button onClick={() => { clearToken(); window.location.reload(); }} style={{ padding: "6px 10px" }}>Logout</button>
    </div>

    <Switch>
      <Route path="/" exact component={Index} />
      <Route path="/admin" component={Admin} />
      <Route path="/auth" component={Auth} />
      <Redirect to="/" />
    </Switch>
  );
}
